<!DOCTYPE html>
<html class="h-100 hide-scroll" lang="ru">
<head>
    {% load static %}
    {% load task_tags %}

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% block title %}{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'todo_tasks/favicon/favicon-32x32.png' %}" sizes="any">
    <link rel="manifest" href="{% static 'todo_tasks/favicon/manifest.json' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'todo_tasks/Bootstrap-5-5.1.3/css/bootstrap.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'todo_tasks/css/tasks.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'todo_tasks/css/style_sidebar.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'todo_tasks/css/buttons.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'todo_tasks/css/loader-big.css' %}"/>
    <link rel="stylesheet" type="text/css"
          href="{% static 'todo_tasks/DataTables-1.12.1/css/dataTables.bootstrap5.css' %}"/>
    <script type="text/javascript" src="{% static 'todo_tasks/Bootstrap-5-5.1.3/js/bootstrap.bundle.js' %}"></script>

    <script type="text/javascript" src="{% static 'todo_tasks/jQuery-3.6.0/jquery-3.6.0.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'todo_tasks/Bootstrap-5-5.1.3/js/bootstrap.min.js' %}"></script>

    <script type="text/javascript" src="{% static 'todo_tasks/pdfmake-0.1.36/pdfmake.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'todo_tasks/pdfmake-0.1.36/vfs_fonts.js' %}"></script>
    <script type="text/javascript" src="{% static 'todo_tasks/datatables.min.js' %}"></script>
    {% block css_stuff %}
    {% endblock %}


</head>

<script>
    window.addEventListener("beforeunload", function () {
        setTimeout(() => {
            LoadSpin()
        }, 350);
    });

    window.addEventListener("unload", function () {
        HideSpin()
    })

</script>

<body class="content-fade back-search" id="body-full">

{% include "todo_tasks/sidebar.html" %}

<div class="container" id="body_container" style="display: block">

    {% block content %}
    {% endblock %}
</div>

{% comment %}
<div id="loader-big" style="display: none; background: #CACACA; width: 99vw; height: 100vw">
    <div class="centered_div">
        <p class="text-1-task" style="color: #202022">Работаем</p>
        <span class="loader-big"></span>
    </div>
</div>
{% endcomment %}

<div id="loader-big" class="div-loader" style="width: 99vw; min-height: 100vh">
    <div class="centered_div">
        <p class="text-1-task" style="display: flex; color: #202022">Работаем</p>
        <span class="loader-big" style="display:flex;"></span>
    </div>
</div>


<script>
    $('tr[data-href]').on("click", function () {
        document.location = $(this).data('href');
    });
</script>

<script>
    // после загрузки страницы
    $(function () {
        // инициализации подсказок для всех элементов на странице, имеющих атрибут data-toggle="tooltip"
        $('[data-toggle="tooltip"]').tooltip();
    });

    function LoadSpin() {
        var spinloader = document.getElementById('loader-big')
        spinloader.style.display = 'flex'

        /*spinloader.style.opacity = '1'*/

        function f() {
            var op = 0;
            while (op <= 1) {
                (function (_op) {
                    setTimeout(function () {
                        spinloader.style.opacity = _op;
                    }, 10 + op * 200);
                })(op);
                op += 0.05;
            }
        }

        f();
    }

    function HideSpin() {
        var spinloader = document.getElementById('loader-big')
        spinloader.style.display = 'none'
        spinloader.style.opacity = '0';
    }
</script>


{% block js_stuff %}
{% endblock %}


</body>
</html>



